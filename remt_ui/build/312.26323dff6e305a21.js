"use strict";(self.webpackChunkremt_ui=self.webpackChunkremt_ui||[]).push([[312],{2312:(ve,I,s)=>{s.r(I),s.d(I,{LGAModule:()=>ge});var v=s(6895),l=s(4006),x=s(4859),c=s(3546),f=s(5412),L=s(9549),w=s(782),U=s(7392),y=s(4144),N=s(4633),_=s(8255),P=s(4385),T=s(3267),k=s(3683),Y=s(4466),m=s(8252),E=s(5266),F=s(3476),M=s(9841),G=s(8146),Q=s(5892),S=s(5233),D=s(8911),e=s(4650),C=s(9201),H=s(9653),b=s(1213);let K=(()=>{var t;class r{constructor(o,n,i,d,h){this.formBuilder=o,this.router=n,this.msgService=i,this.store=d,this.userEntityService=h,this.newLandlord={_id:"",userTypeName:"",permissions:[],userInfos:{name:"",age:null,nation_Id:null,phoneNumber:"",password:"",gender:"",summary:""},estates:[],createdAt:new Date},this.userInfosForm=this.formBuilder.group({name:["",l.kI.required],userTypeName:["landlord",l.kI.required],age:[null,l.kI.required],nation_Id:[null,l.kI.required],phoneNumber:["",l.kI.required],password:["",l.kI.required]}),this.store.select(S.gi).subscribe({next:u=>{this.url=(0,D.C)(u)}})}addLandlord(){if(!this.userInfosForm.valid)return this.msgService.message({text:"Please make sure to fill all required fields!",title:"Form Error",color:"red"});const{name:o,userTypeName:n,password:i,gender:d,summary:h,age:u,nation_Id:Z,phoneNumber:p}=this.userInfosForm.value;return this.newLandlord.userTypeName=n,this.newLandlord.userInfos={name:o,age:u,password:i,gender:d,summary:h,nation_Id:Z,phoneNumber:p},this.userEntityService.add(this.newLandlord).subscribe({next:g=>{this.userEntityService.getAll(),this.router.navigateByUrl(this.url),this.msgService.message({title:"Register Success",text:"Successfully registered "+g.userInfos.name.toUpperCase(),color:"green"})},error:g=>{console.log(g),this.msgService.message({title:"Register Error",text:"Unknown Error"==g.statusText?"No internet connection":"string"==typeof g.error?g.error:g.message,color:"red"})}})}}return(t=r).\u0275fac=function(o){return new(o||t)(e.Y36(l.qu),e.Y36(m.F0),e.Y36(C.e),e.Y36(H.yh),e.Y36(b.W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-landlords"]],decls:48,vars:1,consts:[["align","center","mat-dialog-title",""],["src","/assets/login.PNG","alt","Logo","height","75px","width","75px",1,"brand_logo"],[1,"d-flex","justify-content-center"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],[1,"w-100"],["name","name","matInput","","type","text","placeholder","Name","formControlName","name"],["name","userTypeName","matInput","","readonly","","type","text","placeholder","userTypeName","formControlName","userTypeName"],["name","nation_Id","matInput","","type","text","placeholder","nationId","formControlName","nation_Id"],["name","phoneNumber","matInput","","type","text","placeholder","phoneNumber","formControlName","phoneNumber"],["name","password","matInput","","type","text","placeholder","password","formControlName","password"],["name","age","matInput","","type","text","placeholder","age","formControlName","age"],["mat-button","","mat-dialog-close","",1,"close"],[1,"fa","fa-window-close"],["mat-button","","mat-dialog-close","",1,"add",3,"click"],[1,"fa","fa-plus-circle"]],template:function(o,n){1&o&&(e.TgZ(0,"mat-dialog-content")(1,"h3",0),e._UZ(2,"img",1)(3,"br"),e.TgZ(4,"small")(5,"b"),e._uU(6,"Add Landlord"),e.qZA()()(),e.TgZ(7,"mat-card")(8,"mat-card-content",2)(9,"form",3)(10,"div",4)(11,"div",5)(12,"mat-form-field",6)(13,"mat-label"),e._uU(14,"Name"),e.qZA(),e._UZ(15,"input",7),e.qZA()(),e.TgZ(16,"div",5)(17,"mat-form-field",6)(18,"mat-label"),e._uU(19,"User Type"),e.qZA(),e._UZ(20,"input",8),e.qZA()(),e.TgZ(21,"div",5)(22,"mat-form-field",6)(23,"mat-label"),e._uU(24,"NationId"),e.qZA(),e._UZ(25,"input",9),e.qZA()(),e.TgZ(26,"div",5)(27,"mat-form-field",6)(28,"mat-label"),e._uU(29,"PhoneNumber"),e.qZA(),e._UZ(30,"input",10),e.qZA()(),e.TgZ(31,"div",5)(32,"mat-form-field",6)(33,"mat-label"),e._uU(34,"Password"),e.qZA(),e._UZ(35,"input",11),e.qZA()(),e.TgZ(36,"div",5)(37,"mat-form-field",6)(38,"mat-label"),e._uU(39,"Age"),e.qZA(),e._UZ(40,"input",12),e.qZA()()()()()()(),e.TgZ(41,"mat-dialog-actions",2)(42,"button",13),e._UZ(43,"i",14),e._uU(44," Close! "),e.qZA(),e.TgZ(45,"button",15),e.NdJ("click",function(){return n.addLandlord()}),e._UZ(46,"i",16),e._uU(47," Add! "),e.qZA()()),2&o&&(e.xp6(9),e.Q6J("formGroup",n.userInfosForm))},dependencies:[x.lW,l._Y,l.Fj,l.JJ,l.JL,c.a8,c.dn,L.KE,L.hX,l.sg,l.u,y.Nt,f.ZT,f.uh,f.xY,f.H8],styles:["mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:bisque;color:#000}mat-dialog-actions[_ngcontent-%COMP%]   button.close[_ngcontent-%COMP%]{background-color:#deb887;border:1px solid red;color:red}mat-dialog-actions[_ngcontent-%COMP%]   button.add[_ngcontent-%COMP%]{background-color:#deb887;border:1px solid green;color:green}"]}),r})();var O=s(7156),R=s(2289),B=s(5496),j=s(5227),J=s(5004);const W=["sidenav"];function X(t,r){if(1&t){const a=e.EpF();e.TgZ(0,"span",16),e.NdJ("click",function(){e.CHM(a),e.oxw();const n=e.MAs(17);return e.KtG(n.toggle())}),e.TgZ(1,"mat-icon"),e._uU(2,"menu"),e.qZA()()}}const q=function(t,r){return["/",t,r]},A=function(t){return{active:t}};function $(t,r){if(1&t){const a=e.EpF();e.TgZ(0,"mat-nav-list")(1,"a",17),e._uU(2," dashboard "),e.qZA(),e.TgZ(3,"a",18),e.NdJ("click",function(){e.CHM(a);const n=e.oxw();return e.KtG(n.add_landlords())}),e._uU(4," add_landlords "),e.qZA()()}if(2&t){const a=e.oxw();e.xp6(1),e.Q6J("routerLink",e.WLB(2,q,a.userType,a.id))("ngClass",e.VKq(5,A,a.activeDashboard))}}function z(t,r){if(1&t){const a=e.EpF();e.TgZ(0,"a",19),e.NdJ("click",function(){e.CHM(a);const n=e.oxw();return e.KtG(n.loginDialog())}),e._UZ(1,"i",20),e._uU(2," Login "),e.qZA()}}function V(t,r){if(1&t&&(e.TgZ(0,"a",21),e._UZ(1,"i",22),e._uU(2),e.ALo(3,"formatNames"),e.qZA()),2&t){const a=e.oxw(),o=e.MAs(12);e.Q6J("ngClass",e.VKq(5,A,a.activeProfile))("matMenuTriggerFor",o),e.xp6(2),e.hij(" ",e.lcZ(3,3,a.username)," ")}}const ee=function(t,r){return["/",t,r,"profile"]};function te(t,r){if(1&t&&(e.TgZ(0,"button",23),e._UZ(1,"i",24),e._uU(2," Profile "),e.qZA()),2&t){const a=e.oxw();e.Q6J("routerLink",e.WLB(1,ee,a.userType.toLowerCase(),a.id))}}function ne(t,r){if(1&t){const a=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(a);const n=e.oxw();return e.KtG(n.logout())}),e._UZ(1,"i",26),e._uU(2," Logout "),e.qZA()}}function oe(t,r){if(1&t){const a=e.EpF();e.TgZ(0,"a",18),e.NdJ("click",function(){e.CHM(a);const n=e.oxw();return e.KtG(n.add_landlords())}),e._uU(1," add_landlords "),e.qZA()}}const ae=function(){return[""]};let se=(()=>{var t;class r{constructor(o,n,i,d,h,u,Z){this.breakpointObserver=o,this.activatedRoute=n,this.msgService=i,this.storageService=d,this.dialog=h,this.store=u,this.userEntityService=Z,this.isSidenavExpand=!1,this.activeDashboard=!1,this.activeProfile=!1,(0,M.a)([this.breakpointObserver.observe(["(max-width: 1199px)"]),this.store.select(S.gi),this.activatedRoute.params,this.userEntityService.entities$]).subscribe({next:([{matches:p},g,pe,fe])=>{this.isLessThenLargeDevice=p,p||(this.isSidenavExpand=!1),this.lga=fe.find(he=>he._id===pe.id),this.username=this.lga?.userInfos.name,this.activeDashboard=g==="/"+this.storageService.getUserTypeName()+"/"+this.storageService.getId(),this.activeProfile=g==="/"+this.storageService.getUserTypeName()+"/"+this.storageService.getId()+"/profile",this.userType=this.lga?.userTypeName,this.id=this.lga?._id},error:p=>{this.msgService.message({title:"Error",text:"Sorry, something went wrong: "+p.message,color:"red"})}})}loginDialog(){this.dialog.open(G.G)}logout(){this.store.dispatch((0,Q.kS)())}add_landlords(){this.isSidenavExpand=this.sidenav.opened,this.dialog.open(K)}add_properties(){this.sidenav.toggle(),this.isSidenavExpand=this.sidenav.opened,this.dialog.open(O.L)}toggleSidenav(){this.sidenav.toggle(),this.isSidenavExpand=this.sidenav.opened}}return(t=r).\u0275fac=function(o){return new(o||t)(e.Y36(R.Yg),e.Y36(m.gz),e.Y36(C.e),e.Y36(B.V),e.Y36(f.uw),e.Y36(H.yh),e.Y36(b.W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-lga-home"]],viewQuery:function(o,n){if(1&o&&e.Gf(W,5),2&o){let i;e.iGM(i=e.CRH())&&(n.sidenav=i.first)}},decls:27,vars:18,consts:[["routerLinkActive","active",1,"",3,"routerLink"],["src","../favicon.ico","alt","","width","30px","height","35px"],["class","example-icon",3,"click",4,"ngIf"],[4,"ngIf"],[1,"example-spacer"],[1,""],["class","btn btn-sm mb-2",3,"click",4,"ngIf"],["mat-raised-button","",3,"ngClass","matMenuTriggerFor",4,"ngIf"],["navOptions","matMenu"],["mat-menu-item","","class","mt-1",3,"routerLink",4,"ngIf"],["mat-menu-item","","class","mt-1",3,"click",4,"ngIf"],[3,"mode","opened"],["sidenav",""],["mat-raised-button","",1,"m-1","align-content-center",3,"routerLink","ngClass","click"],["mat-raised-button","","class","m-1 align-content-center","routerLinkActive","active",3,"click",4,"ngIf"],[1,"fixed-bottom"],[1,"example-icon",3,"click"],["mat-raised-button","",1,"m-1","align-content-center",3,"routerLink","ngClass"],["mat-raised-button","","routerLinkActive","active",1,"m-1","align-content-center",3,"click"],[1,"btn","btn-sm","mb-2",3,"click"],[1,"fa","fa-lock-open"],["mat-raised-button","",3,"ngClass","matMenuTriggerFor"],[1,"fa","fa-user-check"],["mat-menu-item","",1,"mt-1",3,"routerLink"],[1,"fa","fa-user-circle"],["mat-menu-item","",1,"mt-1",3,"click"],[1,"fa","fa-sign-out-alt"]],template:function(o,n){1&o&&(e.TgZ(0,"div")(1,"mat-toolbar")(2,"span",0),e._UZ(3,"img",1),e._uU(4,"REMT "),e.qZA(),e.YNc(5,X,3,0,"span",2),e.YNc(6,$,5,7,"mat-nav-list",3),e._UZ(7,"span",4),e.TgZ(8,"div",5),e.YNc(9,z,3,0,"a",6),e.YNc(10,V,4,7,"a",7),e.TgZ(11,"mat-menu",null,8),e.YNc(13,te,3,4,"button",9),e.YNc(14,ne,3,0,"button",10),e.qZA()()(),e.TgZ(15,"mat-sidenav-container",5)(16,"mat-sidenav",11,12)(18,"a",13),e.NdJ("click",function(){return n.toggleSidenav()}),e._uU(19," dashboard "),e.qZA(),e._UZ(20,"br"),e.YNc(21,oe,2,0,"a",14),e._UZ(22,"br"),e.qZA(),e.TgZ(23,"mat-sidenav-content")(24,"main"),e._UZ(25,"router-outlet"),e.qZA(),e._UZ(26,"app-footer",15),e.qZA()()()),2&o&&(e.xp6(2),e.Q6J("routerLink",e.DdM(12,ae)),e.xp6(3),e.Q6J("ngIf",n.isLessThenLargeDevice),e.xp6(1),e.Q6J("ngIf",!n.isLessThenLargeDevice),e.xp6(3),e.Q6J("ngIf",!n.username),e.xp6(1),e.Q6J("ngIf",n.username),e.xp6(3),e.Q6J("ngIf",n.username),e.xp6(1),e.Q6J("ngIf",n.username),e.xp6(2),e.Q6J("mode","over")("opened",n.isSidenavExpand&&n.isLessThenLargeDevice),e.xp6(2),e.Q6J("routerLink",e.WLB(13,q,n.userType,n.id))("ngClass",e.VKq(16,A,n.activeDashboard)),e.xp6(3),e.Q6J("ngIf",n.isLessThenLargeDevice))},dependencies:[v.mk,v.O5,m.lC,m.rH,m.Od,T.JX,T.TM,T.Rh,N.Hk,U.Hw,x.zs,k.Ye,j.c,_.VK,_.OP,_.p6,J.Q],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:bisque;color:#000;font-weight:bolder}mat-sidenav[_ngcontent-%COMP%]{background-color:#deb887}mat-toolbar[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:brown;background-color:#deb887}a[_ngcontent-%COMP%], .username[_ngcontent-%COMP%]{font-weight:unset}img[_ngcontent-%COMP%]{border-radius:35%}.brand[_ngcontent-%COMP%]{font-weight:bolder}a[_ngcontent-%COMP%]{color:#000;font-weight:700;opacity:.8}a[_ngcontent-%COMP%]:hover{color:#000;opacity:1;font-weight:bolder}a.active[_ngcontent-%COMP%]{color:brown;font-weight:bolder;background-color:bisque}main[_ngcontent-%COMP%]{padding-bottom:65px}"]}),r})();var re=s(6788),ie=s(2538);const le=function(t,r){return["/lga/",t,"manage_users",r]};function de(t,r){if(1&t){const a=e.EpF();e.TgZ(0,"tr",13)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"formatNames"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td")(9,"span",14),e.NdJ("click",function(){const i=e.CHM(a).$implicit,d=e.oxw(2);return e.KtG(d.editUser(i))}),e._UZ(10,"i",15),e.qZA(),e.TgZ(11,"span",14),e.NdJ("click",function(){const i=e.CHM(a).$implicit,d=e.oxw(2);return e.KtG(d.addHouse(i))}),e._UZ(12,"i",16)(13,"i",17),e.qZA(),e.TgZ(14,"span",18),e.NdJ("click",function(){const i=e.CHM(a).$implicit,d=e.oxw(2);return e.KtG(d.deleteUser(i))}),e._UZ(15,"i",19),e.qZA()()()}if(2&t){const a=r.$implicit,o=r.index,n=e.oxw(2);e.Q6J("routerLink",e.WLB(6,le,n.paramId,a._id)),e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(e.lcZ(5,4,null==a||null==a.userInfos?null:a.userInfos.name)),e.xp6(3),e.Oqu(null==a||null==a.estates?null:a.estates.length)}}function ce(t,r){if(1&t&&(e.TgZ(0,"div",7)(1,"div",8)(2,"table",9)(3,"thead")(4,"tr",10)(5,"th",11),e._uU(6,"No"),e.qZA(),e.TgZ(7,"th",11),e._uU(8,"Name"),e.qZA(),e.TgZ(9,"th",11),e._uU(10,"Houses"),e.qZA(),e.TgZ(11,"th",11),e._uU(12,"Actions"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,de,16,9,"tr",12),e.qZA()()()()),2&t){const a=e.oxw();e.xp6(14),e.Q6J("ngForOf",null==a.lga?null:a.lga.regUserIds)}}const me=[{path:"",component:se,children:[{path:"",component:(()=>{var t;class r{constructor(o,n,i,d,h){this.userEntityService=o,this.activeRoute=n,this.route=i,this.dialog=d,this.msgService=h,this.paramId="",(0,M.a)([this.activeRoute.params,this.userEntityService.entities$]).subscribe({next:([u,Z])=>{this.paramId=u.id,this.lga=Z.find(p=>p._id===u.id)},error:u=>{this.msgService.message({title:"Error",text:"Sorry, something went wrong: "+u.message,color:"red"})}})}editUser(o){console.log(o),this.dialog.open(re.y,{data:{user:o,action:"Edit"}})}deleteUser(o){this.dialog.open(ie.X,{data:{name:o.userInfos.name,context:"User",action:"Delete",data:o}})}addHouse(o){this.dialog.open(O.L,{data:{user:o,context:"Add House",action:"add",estate:{}}})}ngOnInit(){}}return(t=r).\u0275fac=function(o){return new(o||t)(e.Y36(b.W),e.Y36(m.gz),e.Y36(m.F0),e.Y36(f.uw),e.Y36(C.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-lga-index"]],decls:20,vars:4,consts:[[1,"example-card"],[1,"d-flex","justify-content-between"],["mat-card-avatar","",1,"example-header-image"],["mat-card-image","","src","../../../../assets/imgs/img1.jpg","width","45px","height","50px","alt","Photo of a Shiba Inu"],["class","card-text",4,"ngIf"],[1,"d-flex","justify-content-end"],["mat-button",""],[1,"card-text"],[1,"table-responsive"],[1,"table","table-hover"],[1,"text-center"],["scope","col"],["routerLinkActive","router-link-active","class","text-center",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","router-link-active",1,"text-center",3,"routerLink"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],[1,"fa","fa-user-edit"],[1,"fa","fa-plus"],[1,"fa","fa-home"],[1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa","fa-trash"]],template:function(o,n){1&o&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"span",2),e._UZ(3,"img",3),e.qZA(),e.TgZ(4,"span")(5,"mat-card-title"),e._uU(6),e.qZA(),e.TgZ(7,"mat-card-subtitle"),e._uU(8),e.qZA()()(),e.TgZ(9,"mat-card-content")(10,"p"),e._uU(11," For the local government administrators, they would need to have the ability to add landlords and properties in their respective areas. The user interface for this user type would include a form for adding new landlords, with fields for name, property address, and owner name. "),e.qZA(),e.TgZ(12,"p"),e._uU(13),e.qZA(),e.YNc(14,ce,15,1,"div",4),e.qZA(),e.TgZ(15,"mat-card-actions",5)(16,"button",6),e._uU(17,"LIKE"),e.qZA(),e.TgZ(18,"button",6),e._uU(19,"SHARE"),e.qZA()()()),2&o&&(e.xp6(6),e.Oqu(null==n.lga||null==n.lga.userInfos?null:n.lga.userInfos.name),e.xp6(2),e.Oqu(null==n.lga?null:n.lga.userTypeName),e.xp6(5),e.hij(" No of landlords registerd: ",(null==n.lga||null==n.lga.regUserIds?null:n.lga.regUserIds.length)||"None"," "),e.xp6(1),e.Q6J("ngIf",(null==n.lga?null:n.lga.regUserIds.length)>0))},dependencies:[v.sg,v.O5,m.rH,m.Od,x.lW,c.a8,c.hq,c.kc,c.dn,c.dk,c.G2,c.$j,c.n5,J.Q]}),r})()},{path:"profile",component:E.d},{path:"manage_users/:id",component:F.L},{path:"**",redirectTo:""}]}];let ue=(()=>{var t;class r{}return(t=r).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild(me),m.Bz]}),r})(),ge=(()=>{var t;class r{}return(t=r).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[v.ez,ue,T.SJ,N.ie,U.Ps,x.ot,k.g0,Y.m,l.u5,c.QW,P.LD,L.lN,l.UX,y.c,w.N6,f.Is,_.Tx]}),r})()}}]);