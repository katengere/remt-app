"use strict";(self.webpackChunkremt_ui=self.webpackChunkremt_ui||[]).push([[750],{2538:(F,x,c)=>{c.d(x,{X:()=>I});var m=c(5412),P=c(5892),r=c(4650),M=c(9653),Z=c(1213),k=c(6467),q=c(9201),D=c(5496),O=c(6895),t=c(4859),b=c(5004);function A(_,f){if(1&_){const C=r.EpF();r.TgZ(0,"button",8),r.NdJ("click",function(){r.CHM(C);const v=r.oxw();return r.KtG(v.deleteCaretaker())}),r._UZ(1,"i",9),r._uU(2,"Delete Caretaker "),r.qZA()}}function E(_,f){if(1&_){const C=r.EpF();r.TgZ(0,"button",8),r.NdJ("click",function(){r.CHM(C);const v=r.oxw();return r.KtG(v.deleteUser())}),r._UZ(1,"i",9),r._uU(2,"Delete User "),r.qZA()}}let I=(()=>{var _;class f{constructor(h,v,T,L,w,R,U){this.dialogData=h,this.dialog=v,this.store=T,this.userEntityService=L,this.houseEntityService=w,this.msg=R,this.storageService=U}deleteUser(){return this.userEntityService.delete(this.dialogData.data._id).subscribe({next:h=>{this.dialog.closeAll(),this.dialogData.data._id===this.storageService.getId()&&this.store.dispatch((0,P.kS)()),history.back(),this.msg.message({title:"Delete Success",text:"Successfully removed "+this.dialogData.data.userInfos.name,color:"green"})},error:h=>{this.msg.message({title:"Delete Failure",text:"Error "+h.message,color:"red"})}})}deleteCaretaker(){console.log("houseId ",this.dialogData.estate._id),console.log("caretakerId ",this.dialogData.caretakerId)}}return(_=f).\u0275fac=function(h){return new(h||_)(r.Y36(m.WI),r.Y36(m.uw),r.Y36(M.yh),r.Y36(Z.W),r.Y36(k.k),r.Y36(q.e),r.Y36(D.V))},_.\u0275cmp=r.Xpm({type:_,selectors:[["app-confirm"]],decls:14,vars:7,consts:[["mat-dialog-title","",1,"card-title"],[1,"card-text"],[1,"card"],[1,"card-body"],["align","end",1,"card-footer"],["mat-raised-button","","mat-dialog-close","",1,"btn","btn-sm","m-1","close"],[1,"fa","fa-window-close"],["mat-raised-button","","mat-dialog-close","","class","btn btn-sm m-1 del",3,"click",4,"ngIf"],["mat-raised-button","","mat-dialog-close","",1,"btn","btn-sm","m-1","del",3,"click"],[1,"fa","fa-trash"]],template:function(h,v){1&h&&(r.TgZ(0,"h5",0),r._uU(1),r.qZA(),r.TgZ(2,"mat-dialog-content",1)(3,"div",2)(4,"div",3)(5,"p"),r._uU(6),r.ALo(7,"formatNames"),r.qZA()()()(),r.TgZ(8,"mat-dialog-actions",4)(9,"button",5),r._UZ(10,"i",6),r._uU(11,"Close "),r.qZA(),r.YNc(12,A,3,0,"button",7),r.YNc(13,E,3,0,"button",7),r.qZA()),2&h&&(r.xp6(1),r.AsE(" ",v.dialogData.action," ",v.dialogData.context,"\n"),r.xp6(5),r.hij(" Are you sure to delete ",r.lcZ(7,5,v.dialogData.name),"? "),r.xp6(6),r.Q6J("ngIf","Caretaker"==v.dialogData.context),r.xp6(1),r.Q6J("ngIf","User"==v.dialogData.context))},dependencies:[O.O5,m.ZT,m.uh,m.xY,m.H8,t.lW,b.Q],styles:["h5[_ngcontent-%COMP%], mat-dialog-content[_ngcontent-%COMP%], mat-dialog-actions[_ngcontent-%COMP%]{background-color:bisque;color:#000}mat-dialog-content[_ngcontent-%COMP%]   div.card[_ngcontent-%COMP%]{color:#000}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#deb887;color:#000}mat-dialog-actions[_ngcontent-%COMP%]   button.del[_ngcontent-%COMP%]:hover{background-color:#deb887;border:1px solid red;color:red}mat-dialog-actions[_ngcontent-%COMP%]   button.close[_ngcontent-%COMP%]:hover{background-color:#deb887;border:1px solid green;color:#fff}"]}),f})()},6750:(F,x,c)=>{c.r(x),c.d(x,{LandlordModule:()=>st});var m=c(6895),P=c(3238),r=c(9602),M=c(3803),Z=c(8252),k=c(7732),q=c(5266),D=c(4407),O=c(9841),t=c(4650),b=c(1213),A=c(9201);const E=function(){return[800,400]};let I=(()=>{var n;class l{constructor(e,i,s){this.activatedRoute=e,this.userEntityService=i,this.msg=s}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.subscription=(0,O.a)([this.activatedRoute.params,this.userEntityService.entities$]).subscribe({next:([e,i])=>{this.landlord=i.find(s=>s._id===e.id),this.estates=this.landlord?.estates.reduce((s,d)=>{let a={name:d.type.toLowerCase(),value:0};if(!s.includes(s[s.findIndex(g=>g.name==d.type.toLowerCase())]))return a.value+=1,[...s,a];const u=s.find(g=>g.name==d.type.toLowerCase());return u?(u.value+=1,s.splice(s.findIndex(g=>g.name==u.name),1,u),[...s]):s},[])},error:e=>{this.msg.message({title:"Incorrect Credentials",text:e.message,color:"red"})}})}}return(n=l).\u0275fac=function(e){return new(e||n)(t.Y36(Z.gz),t.Y36(b.W),t.Y36(A.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard"]],decls:8,vars:12,consts:[[1,"container-fluid"],[1,"row","pt-2"],[1,"col-12"],[1,"card","text-left"],[1,"card-body"],[1,"card-title","border-bottom"],[3,"view","results","xAxisLabel","legendTitle","yAxisLabel","legend","showXAxisLabel","showYAxisLabel","xAxis","yAxis","gradient"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t._uU(6,"House Types Summary Chart"),t.qZA(),t._UZ(7,"ngx-charts-bar-vertical",6),t.qZA()()()()()),2&e&&(t.xp6(7),t.Q6J("view",t.DdM(11,E))("results",i.estates)("xAxisLabel","Type")("legendTitle","House Type Chart")("yAxisLabel","Amount")("legend",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("xAxis",!0)("yAxis",!0)("gradient",!0))},dependencies:[M.K$]}),l})();var _=c(7156),f=c(5412),C=c(5004);let h=(()=>{var n;class l{constructor(e,i,s,d){this.activatedRoute=e,this.userEntityService=i,this.matDialog=s,this.msg=d}ngOnInit(){this.subscription=(0,O.a)([this.activatedRoute.params,this.userEntityService.entities$]).subscribe({next:([e,i])=>{this.landlord=i.find(s=>s._id===e.id),this.estates=this.landlord?.estates.reduce((s,d)=>{let a={name:d.type.toLowerCase(),value:0};if(!s.includes(s[s.findIndex(g=>g.name==d.type.toLowerCase())]))return a.value+=1,[...s,a];const u=s.find(g=>g.name==d.type.toLowerCase());return u?(u.value+=1,s.splice(s.findIndex(g=>g.name==u.name),1,u),[...s]):s},[])},error:e=>{this.msg.message({title:"Incorrect Credentials",text:e.message,color:"red"})}})}ngOnDestroy(){this.subscription.unsubscribe()}AddPropertyDialog(){this.matDialog.open(_.L,{data:{user:this.landlord,action:"add",estate:{caretakers:[]}}})}}return(n=l).\u0275fac=function(e){return new(e||n)(t.Y36(Z.gz),t.Y36(b.W),t.Y36(f.uw),t.Y36(A.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-landlord-home"]],decls:23,vars:4,consts:[[1,"card","m-0","p-0"],[1,"row","m-0","p-0"],[1,"col-sm-12","m-0","p-0"],[1,"card-header","d-flex","justify-content-between"],["src","../../../../assets/imgs/img6.jpg ","alt","",1,"userImg","float-lg-start"],[1,""],[1,"text-end"],[1,"btn-group"],["data-bs-toggle","dropdown","aria-expanded","false",1,"btn","dropdown-toggle","dropdown-toggle-split"],[1,"visually-hidden"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h5",3),t._UZ(5,"img",4),t.TgZ(6,"span")(7,"b",5),t._uU(8),t.ALo(9,"formatNames"),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"h6",6)(12,"small"),t._uU(13),t.qZA(),t.TgZ(14,"div",7)(15,"button",8)(16,"span",9),t._uU(17,"Toggle Dropdown"),t.qZA()(),t.TgZ(18,"ul",10)(19,"li")(20,"button",11),t.NdJ("click",function(){return i.AddPropertyDialog()}),t._uU(21,"Add House..."),t.qZA()()()()()()()()()()(),t._UZ(22,"router-outlet")),2&e&&(t.xp6(8),t.Oqu(t.lcZ(9,2,null==i.landlord?null:i.landlord.userInfos.name)),t.xp6(5),t.Oqu(null==i.landlord?null:i.landlord.userTypeName))},dependencies:[Z.lC,C.Q],styles:[".card-header[_ngcontent-%COMP%]   .userImg[_ngcontent-%COMP%]{height:45px;width:45px;border-radius:50%}h5[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{background-color:bisque;color:#000}h5[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:bisque;font-weight:bolder}"]}),l})();var v=c(2538),T=c(5496);function L(n,l){if(1&n){const o=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"div",6)(3,"div",7)(4,"h5",8),t._uU(5),t.ALo(6,"formatNames"),t.qZA(),t.TgZ(7,"small"),t._uU(8),t.qZA()(),t.TgZ(9,"p",8),t._uU(10,"Some placeholder content in a paragraph."),t.qZA(),t.TgZ(11,"small",9)(12,"button",10),t.NdJ("click",function(){const s=t.CHM(o).$implicit,d=t.oxw().$implicit,p=t.oxw();return t.KtG(p.editCaretaker(d,s._id))}),t._uU(13,"Edit"),t.qZA(),t.TgZ(14,"button",11),t.NdJ("click",function(){const s=t.CHM(o).$implicit,d=t.oxw().$implicit,p=t.oxw();return t.KtG(p.deleteCaretaker(s.userInfos.name,d,s._id))}),t._uU(15,"Delete"),t.qZA()()()()()}if(2&n){const o=l.$implicit;t.xp6(5),t.hij("Name: ",t.lcZ(6,2,o.userInfos.name),""),t.xp6(3),t.hij("Phone No: ",o.userInfos.phoneNumber,"")}}function w(n,l){if(1&n&&(t.ynx(0),t.TgZ(1,"tr")(2,"th",5),t._uU(3),t.qZA()(),t.YNc(4,L,16,4,"tr",4),t.BQk()),2&n){const o=l.$implicit;t.xp6(2),t.uIk("rowspan",o.caretakers.length+1),t.xp6(1),t.Oqu(o.type),t.xp6(1),t.Q6J("ngForOf",o.caretakers)}}let R=(()=>{var n;class l{constructor(e,i,s){this.userEntityService=e,this.storageService=i,this.dialog=s,this.subscription=this.userEntityService.entities$.subscribe({next:d=>{this.landlord=d.find(p=>p._id===this.storageService.getId()),this.estates=this.landlord?.estates,this.estates=this.estates?.map(p=>{const a={...p};return a.caretakers=a.caretakers?.map(u=>d.find(g=>g._id===u)),a}),console.log(this.estates)}})}ngOnDestroy(){this.subscription.unsubscribe()}editCaretaker(e,i){this.dialog.open(_.L,{data:{user:this.landlord,estate:e,action:"edit"}})}deleteCaretaker(e,i,s){this.dialog.open(v.X,{data:{name:e,caretakerId:s,context:"Caretaker",estate:i,action:"delete"}})}}return(n=l).\u0275fac=function(e){return new(e||n)(t.Y36(b.W),t.Y36(T.V),t.Y36(f.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-mng-caretakers"]],decls:10,vars:1,consts:[[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["scope","row"],[1,"list-group"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1"],[1,"text-end"],[1,"btn","btn-sm","bg-warning","m-1",3,"click"],[1,"btn","btn-sm","bg-danger","m-1",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),t._uU(5,"Estate Type"),t.qZA(),t.TgZ(6,"th",3),t._uU(7,"Caretakers"),t.qZA()()(),t.TgZ(8,"tbody"),t.YNc(9,w,5,3,"ng-container",4),t.qZA()()()),2&e&&(t.xp6(9),t.Q6J("ngForOf",i.estates))},dependencies:[m.sg,C.Q]}),l})();var U=c(323);function N(n,l){if(1&n){const o=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7),t._UZ(7,"img",8),t.qZA(),t.TgZ(8,"div",9),t._UZ(9,"img",10),t.qZA(),t.TgZ(10,"div",9),t._UZ(11,"img",11),t.qZA()(),t.TgZ(12,"button",12),t._UZ(13,"span",13),t.TgZ(14,"span",14),t._uU(15,"Previous"),t.qZA()(),t.TgZ(16,"button",15),t._UZ(17,"span",16),t.TgZ(18,"span",14),t._uU(19,"Next"),t.qZA()()()()(),t.TgZ(20,"div",17)(21,"div",4)(22,"div",18)(23,"a",19)(24,"h5")(25,"b"),t._uU(26),t.qZA(),t.TgZ(27,"button",20),t.NdJ("click",function(){const s=t.CHM(o).$implicit,d=t.oxw();return t.KtG(d.editHouseDialog(s))}),t._UZ(28,"i",21),t.TgZ(29,"small"),t._uU(30,"Edit..."),t.qZA()(),t.TgZ(31,"button",20),t.NdJ("click",function(){const s=t.CHM(o).$implicit,d=t.oxw();return t.KtG(d.displayRentForm(s))}),t._UZ(32,"i",22),t.TgZ(33,"small"),t._uU(34,"Tenants..."),t.qZA()()(),t._UZ(35,"hr"),t.TgZ(36,"div",23)(37,"div")(38,"blockquote"),t._uU(39,"Region: "),t.TgZ(40,"i")(41,"b"),t._uU(42),t.qZA()()(),t.TgZ(43,"blockquote"),t._uU(44," District: "),t.TgZ(45,"i")(46,"b"),t._uU(47),t.qZA()()(),t.TgZ(48,"blockquote"),t._uU(49," Ward: "),t.TgZ(50,"i")(51,"b"),t._uU(52),t.qZA()()()(),t.TgZ(53,"div")(54,"blockquote"),t._uU(55,"House Type: "),t.TgZ(56,"i")(57,"b"),t._uU(58),t.qZA()()(),t.TgZ(59,"blockquote"),t._uU(60,"Rooms: "),t.TgZ(61,"i")(62,"b"),t._uU(63),t.qZA()()(),t.TgZ(64,"blockquote"),t._uU(65,"Open: "),t.TgZ(66,"i")(67,"b"),t._uU(68),t.qZA()()()()(),t.TgZ(69,"div")(70,"legend")(71,"i")(72,"b"),t._uU(73,"Descriptions..."),t.qZA()()(),t.TgZ(74,"p")(75,"i"),t._uU(76),t.qZA()()()()()()()()()}if(2&n){const o=l.$implicit;t.xp6(26),t.Oqu(o.type),t.xp6(16),t.Oqu(o.region),t.xp6(5),t.Oqu(o.district),t.xp6(5),t.Oqu(o.ward),t.xp6(6),t.Oqu(o.street),t.xp6(5),t.Oqu(o.rooms),t.xp6(5),t.Oqu(o.open),t.xp6(8),t.Oqu(o.description)}}let S=(()=>{var n;class l{constructor(e,i,s){this.userEntityService=e,this.storageService=i,this.dialog=s,this.userEntityService.entities$.subscribe({next:d=>{this.landlord=d.find(p=>p._id===this.storageService.getId()),this.estates=this.landlord?.estates,this.estates=this.estates?.map(p=>{const a={...p};return a.caretakers=a.caretakers?.map(u=>d.find(g=>g._id===u)),a}),console.log(this.estates)}})}editHouseDialog(e){this.dialog.open(_.L,{data:{user:this.landlord,estate:e,action:"edit"}})}displayRentForm(e){this.dialog.open(U.W,{data:{estate:e,action:"approve"}})}}return(n=l).\u0275fac=function(e){return new(e||n)(t.Y36(b.W),t.Y36(T.V),t.Y36(f.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-mng-properties"]],decls:1,vars:1,consts:[["class","card m-0 p-0",4,"ngFor","ngForOf"],[1,"card","m-0","p-0"],[1,"row","m-0","p-0"],[1,"col-sm-4","m-0","p-0"],[1,"card-body","m-0","p-0"],["id","carouselExampleFade",1,"carousel","slide","carousel-fade"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","../../../../assets/imgs/img1.jpg","alt","...",1,"d-block","w-100","slideImg"],[1,"carousel-item"],["src","../../../../assets/imgs/img2.jpg","alt","...",1,"d-block","w-100","slideImg"],["src","../../../../assets/imgs/img3.jpeg","alt","...",1,"d-block","w-100","slideImg"],["type","button","data-bs-target","#carouselExampleFade","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleFade","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"col-sm-8","m-0","p-0"],[1,"list-group"],["aria-current","true",1,"list-group-item","list-group-item-action","text-black"],[1,"btn","btn-sm","float-end","m-1",3,"click"],[1,"fa","fa-house-damage"],[1,"fa","fa-user-plus"],[1,"d-flex","w-100","justify-content-between"]],template:function(e,i){1&e&&t.YNc(0,N,77,8,"div",0),2&e&&t.Q6J("ngForOf",i.estates)},dependencies:[m.sg],styles:[".carousel-item[_ngcontent-%COMP%]   .slideImg[_ngcontent-%COMP%]{height:275px}.list-group-item[_ngcontent-%COMP%]{background-color:inherit}h5[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:bisque}h5[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:1px solid burlywood;color:green}"]}),l})();var Y=c(8845);function H(n,l){if(1&n){const o=t.EpF();t.TgZ(0,"div",12)(1,"h5",13)(2,"h6")(3,"b")(4,"span"),t._uU(5),t.ALo(6,"formatNames"),t.qZA()(),t._UZ(7,"br"),t.TgZ(8,"span")(9,"small"),t._uU(10),t.qZA()()(),t.TgZ(11,"span"),t._UZ(12,"img",14),t.qZA()(),t.TgZ(13,"div",15)(14,"h6",16)(15,"b"),t._uU(16,"Rent Details"),t.qZA()(),t.TgZ(17,"blockquote"),t._uU(18),t.qZA(),t.TgZ(19,"blockquote"),t._uU(20),t.qZA(),t.TgZ(21,"blockquote"),t._uU(22),t.ALo(23,"date"),t.qZA(),t.TgZ(24,"blockquote"),t._uU(25),t.ALo(26,"date"),t.qZA(),t.TgZ(27,"blockquote"),t._uU(28),t.ALo(29,"daysRemain"),t.qZA(),t.TgZ(30,"blockquote"),t._uU(31),t.qZA()(),t.TgZ(32,"p",17)(33,"a",18),t.NdJ("click",function(){const s=t.CHM(o).$implicit,d=t.oxw();return t.KtG(d.editTenant(s,"update"))}),t._UZ(34,"i",19),t._uU(35,"Edit"),t.qZA(),t.TgZ(36,"a",20),t.NdJ("click",function(){const s=t.CHM(o).$implicit,d=t.oxw();return t.KtG(d.editTenant(s,"delete"))}),t._UZ(37,"i",21),t._uU(38,"Remove"),t.qZA()()()}if(2&n){const o=l.$implicit;t.xp6(5),t.Oqu(t.lcZ(6,8,o.client.userInfos.name)),t.xp6(5),t.Oqu(o.client.userTypeName),t.xp6(8),t.hij("House: ",o.house.type,""),t.xp6(2),t.hij("Rooms: ",o.rooms,""),t.xp6(2),t.hij("Start: ",t.lcZ(23,10,o.from),""),t.xp6(3),t.hij("End: ",t.lcZ(26,12,o.to),""),t.xp6(3),t.hij("Days Remaining: ",t.lcZ(29,14,o),""),t.xp6(3),t.hij("Amount Paid: ",o.rent,"")}}const W=function(n){return{show:n}};function J(n,l){if(1&n&&(t.TgZ(0,"div",2)(1,"h2",3)(2,"button",4)(3,"p"),t._uU(4),t.ALo(5,"formatNames"),t.qZA()()(),t.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"h5",9)(11,"h6")(12,"b")(13,"span"),t._uU(14),t.qZA()(),t._UZ(15,"br"),t.TgZ(16,"span")(17,"small"),t._uU(18),t.qZA()()(),t.TgZ(19,"span"),t._UZ(20,"img",10),t.qZA()(),t.TgZ(21,"div",11)(22,"h6",12)(23,"b"),t._uU(24,"Rent Details"),t.qZA()(),t.TgZ(25,"blockquote"),t._uU(26),t.ALo(27,"date"),t.qZA(),t.TgZ(28,"blockquote"),t._uU(29),t.ALo(30,"date"),t.qZA(),t.TgZ(31,"blockquote"),t._uU(32),t.ALo(33,"daysRemain"),t.qZA(),t.TgZ(34,"blockquote"),t._uU(35),t.qZA()()()()()()()),2&n){const o=l.$implicit,e=l.index;t.xp6(2),t.uIk("data-bs-target","#collapse"+e)("aria-controls","collapse"+e),t.xp6(2),t.Oqu(t.lcZ(5,11,o.client.userInfos.name)),t.xp6(2),t.Q6J("id","collapse"+e)("ngClass",t.VKq(19,W,0==e)),t.xp6(8),t.hij("userTypeName: ",o.client.userTypeName,""),t.xp6(4),t.hij(" phoneNumber: ",o.client.userInfos.phoneNumber," "),t.xp6(8),t.hij("Start: ",t.lcZ(27,13,o.from),""),t.xp6(3),t.hij("End: ",t.lcZ(30,15,o.to),""),t.xp6(3),t.hij(" Days Remaining: ",t.lcZ(33,17,o)," "),t.xp6(3),t.hij("Amount Paid: ",o.rent,"")}}const $=[{path:"",component:k.P,children:[{path:"",component:h,children:[{path:"",component:I},{path:"profile",component:q.d},{path:"manage_properties",component:S},{path:"manage_tenants",component:(()=>{var n;class l{constructor(e,i,s){this.userEntityService=e,this.storageService=i,this.dialog=s,this.tenants=[],this.rental_history_Records=[],this.rental_history_Current=[],this.rental_history_Past=[],this.userEntityService.entities$.subscribe({next:d=>{this.landlord=d.find(a=>a._id===this.storageService.getId()),this.estates=this.landlord?.estates;let p=this.estates?.filter(a=>a.rental_history.length>0).map(a=>a.rental_history?.map(g=>({...g,house:a})));p=p?.reduce((a,u)=>a?.concat(u),[]),this.rental_history_Current=p?.filter(a=>new Date(a.to).getTime()>Date.now()).map(a=>{const u=d.find(y=>y._id==a.client),g={...a};return g.client=u,g}),this.rental_history_Past=p?.filter(a=>new Date(a.to).getTime()<Date.now()).map(a=>{const u=d.find(y=>y._id==a.client),g={...a};return g.client=u,g}),this.rental_history_Records=this.rental_history_Current,console.log("rental_history records ",this.rental_history_Records),this.title="Current Tenants"}})}toggleTenantsHistory(e){"current"==e?(this.title="Current Tenants",this.rental_history_Records=this.rental_history_Current):(this.title="Past Tenants",this.rental_history_Records=this.rental_history_Past)}editTenant(e,i){this.dialog.open(U.W,{data:{history:e,estate:e.house,action:i}})}}return(n=l).\u0275fac=function(e){return new(e||n)(t.Y36(b.W),t.Y36(T.V),t.Y36(f.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-mng-tenants"]],decls:22,vars:3,consts:[[1,"card"],[1,"row"],[1,"card-header","d-flex","justify-content-between"],[1,"badge","rounded-pill","text-bg-dark"],[1,"fa","fa-exchange-alt"],[1,"btn-group"],["data-bs-toggle","dropdown","aria-expanded","false",1,"btn","dropdown-toggle","dropdown-toggle-split"],[1,"visually-hidden"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"col-sm-12"],["class","card-body",4,"ngFor","ngForOf"],[1,"card-body"],[1,"card-title","d-flex","justify-content-between"],["src","../../../../assets/imgs/img6.jpg ","alt","",1,"userImg","float-lg-start"],[1,"card-text","text-center"],[1,""],[1,"card-footer","text-center"],[1,"btn","m-1","edit",3,"click"],[1,"fa","fa-user-edit"],[1,"btn","m-1","del",3,"click"],[1,"fa","fa-trash"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2)(3,"span"),t._uU(4),t.TgZ(5,"span",3),t._uU(6),t.qZA()(),t.TgZ(7,"span"),t._UZ(8,"i",4),t.TgZ(9,"div",5)(10,"button",6)(11,"span",7),t._uU(12,"Toggle Dropdown"),t.qZA()(),t.TgZ(13,"ul",8)(14,"li")(15,"button",9),t.NdJ("click",function(){return i.toggleTenantsHistory("current")}),t._uU(16,"Current Tenants"),t.qZA()(),t.TgZ(17,"li")(18,"button",9),t.NdJ("click",function(){return i.toggleTenantsHistory("")}),t._uU(19,"Past Tenants"),t.qZA()()()()()(),t.TgZ(20,"div",10),t.YNc(21,H,39,16,"div",11),t.qZA()()()),2&e&&(t.xp6(4),t.hij("",i.title," "),t.xp6(2),t.Oqu(null==i.rental_history_Records?null:i.rental_history_Records.length),t.xp6(15),t.Q6J("ngForOf",i.rental_history_Records))},dependencies:[m.sg,m.uU,C.Q,Y.I],styles:[".card-title[_ngcontent-%COMP%]   .userImg[_ngcontent-%COMP%]{height:45px;width:45px;border-radius:50%}h5[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{background-color:bisque;color:#000}h5[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:bisque;font-weight:bolder}div.col-sm-12[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:bisque}div.col-sm-12[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a.del[_ngcontent-%COMP%]{background-color:bisque;border:1px solid red;color:red;opacity:.8}div.col-sm-12[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a.edit[_ngcontent-%COMP%]{background-color:bisque;border:1px solid green;color:green;opacity:.8}div.col-sm-12[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a.del[_ngcontent-%COMP%]:hover{background-color:bisque;border:1px solid red;color:red;opacity:1}div.col-sm-12[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a.edit[_ngcontent-%COMP%]:hover{background-color:bisque;border:1px solid green;color:green;opacity:1}"]}),l})()},{path:"manage_caretakers",component:R},{path:"view_rental_history",component:(()=>{var n;class l{constructor(e,i,s){this.userEntityService=e,this.storageService=i,this.dialog=s,this.userEntityService.entities$.subscribe({next:d=>{this.landlord=d.find(a=>a._id===this.storageService.getId()),console.log(this.landlord),this.estates=this.landlord?.estates;let p=this.estates?.filter(a=>a.rental_history.length>0).map(a=>a.rental_history);p=p?.reduce((a,u)=>a?.concat(u),[]),this.rental_history_Records=p?.sort((a,u)=>new Date(u.to).getTime()-new Date(a.to).getTime()).map(a=>{const u=d.find(y=>y._id==a.client),g={...a};return g.client=u,g})}})}}return(n=l).\u0275fac=function(e){return new(e||n)(t.Y36(b.W),t.Y36(T.V),t.Y36(f.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-rental-history"]],decls:2,vars:1,consts:[["id","accordionTenant",1,"accordion"],["class","accordion-item",4,"ngFor","ngForOf"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","true",1,"accordion-button","d-flex","justify-content-between"],["data-bs-parent","#accordionTenant",1,"accordion-collapse","collapse",3,"id","ngClass"],[1,"accordion-body"],[1,"card"],[1,"card-body"],[1,"card-title","d-flex","justify-content-between"],["src","../../../../assets/imgs/img6.jpg","alt","",1,"userImg","float-lg-start"],[1,"card-text","text-center"],[1,""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,J,36,21,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",i.rental_history_Records))},dependencies:[m.mk,m.sg,m.uU,C.Q,Y.I],styles:[".card-title[_ngcontent-%COMP%]   .userImg[_ngcontent-%COMP%]{height:45px;width:45px;border-radius:50%}.accordion[_ngcontent-%COMP%], .accordion-item[_ngcontent-%COMP%], .accordion-header[_ngcontent-%COMP%], .accordion-button[_ngcontent-%COMP%], .accordion-body[_ngcontent-%COMP%]{background-color:inherit;color:#000}"]}),l})()},{path:"create_invoices",component:D.I}]}]}];let B=(()=>{var n;class l{}return(n=l).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[Z.Bz.forChild($),Z.Bz]}),l})();var Q=c(4006),X=c(4859),G=c(3546),V=c(9549),z=c(7392),tt=c(4144),et=c(8255),nt=c(4385),ot=c(4466);let st=(()=>{var n;class l{}return(n=l).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.ez,B,M.a4,Q.UX,G.QW,X.ot,nt.LD,tt.c,r.FA,P.XK,V.lN,et.Tx,z.Ps,f.Is,ot.m]}),l})()}}]);