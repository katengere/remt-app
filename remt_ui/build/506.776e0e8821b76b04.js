"use strict";(self.webpackChunkremt_ui=self.webpackChunkremt_ui||[]).push([[506],{7842:(v,_,s)=>{s.d(_,{z:()=>m});var e=s(4650);let m=(()=>{var i;class d{transform(a){const[g,h]=a.split("/"),T=new Date(g).getTime(),Z=new Date(h).getTime();if(Z<Date.now())return"Done";const c=(Z-T)/864e5;if(c%30==0)return Math.floor(c/30).toString();const l=c%30;return Math.floor(c/30).toString()+" and "+l+(l>1?" days":" day")}}return(i=d).\u0275fac=function(a){return new(a||i)},i.\u0275pipe=e.Yjl({name:"monthsDiff",type:i,pure:!0}),d})()},9997:(v,_,s)=>{s.d(_,{_:()=>m});var e=s(4650);let m=(()=>{var i;class d{transform(a){if("number"==typeof a||null==a)return a;const g=(new Date).getTime()-new Date(a).getTime();return Math.round(g/31536e6)}}return(i=d).\u0275fac=function(a){return new(a||i)},i.\u0275pipe=e.Yjl({name:"userAge",type:i,pure:!0}),d})()},5266:(v,_,s)=>{s.d(_,{d:()=>Z});var e=s(4650),m=s(1213),i=s(5496),d=s(6895),r=s(2673),a=s(5004),g=s(9997),h=s(7842);function T(p,c){if(1&p&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"monthsDiff"),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"number"),e.qZA()()),2&p){const l=c.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,6,l.createdAt)),e.xp6(3),e.Oqu(l.rooms),e.xp6(2),e.Oqu(l.rent),e.xp6(2),e.Oqu(e.lcZ(10,8,l.start+"/"+l.end)),e.xp6(3),e.Oqu(e.lcZ(13,10,l.rentTotal)),e.xp6(3),e.Oqu(e.lcZ(16,12,l.netTotal))}}let Z=(()=>{var p;class c{constructor(f,n){this.userEntityService=f,this.storageService=n,this.invoices=[],this.subscription=this.userEntityService.entities$.pipe().subscribe({next:o=>{this.user=o.find(t=>t._id===this.storageService.getId()),this.invoices="landlord"==this.user?.userTypeName?this.user?.invoices:this.user?.invoices?.filter(t=>t.tenantId===this.user?._id),this.invoices=this.invoices?.reduce((t,u)=>t.includes(t[t.findIndex(A=>A.invoiceId==u.invoiceId)])?t:[...t,u],[])}})}ngOnDestroy(){console.log("ngOnDestroy"),this.subscription.unsubscribe()}}return(p=c).\u0275fac=function(f){return new(f||p)(e.Y36(m.W),e.Y36(i.V))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-profile"]],decls:89,vars:22,consts:[[1,"container-fluid","m-0","h-100","w-100"],[1,"row","m-2"],[1,"card","col-sm-6","flex-row",2,"background-color","rgb(112, 111, 111)"],["src","../../../assets//imgs//img7.jpg","width","75px","height","75px","alt",""],[1,"card","col-sm-6"],[1,"card","col-12"],[1,"mx-2"],[1,"card","m-0","p-0"],[1,"card-header","d-flex","justify-content-between"],["matBadgeOverlap","false","matBadgeColor","accent","matBadgeSize","small",3,"matBadge"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-bordered","border-dark"],["scope","col"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],["type","button",1,"mx-2"],[1,"card-body","row"],[1,"col-sm-6"]],template:function(f,n){1&f&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),e._UZ(4,"img",3),e.qZA(),e._uU(5,"\xa0\xa0\xa0 "),e.TgZ(6,"div")(7,"h5")(8,"b"),e._uU(9,"Name: "),e.qZA(),e._uU(10),e.ALo(11,"formatNames"),e.qZA(),e.TgZ(12,"p")(13,"b"),e._uU(14,"Tel: "),e.qZA(),e._uU(15),e.qZA()()(),e.TgZ(16,"div",4)(17,"p")(18,"b"),e._uU(19,"Member Since: "),e.qZA(),e._uU(20),e.ALo(21,"date"),e.qZA(),e.TgZ(22,"p")(23,"b"),e._uU(24,"User Type: "),e.qZA(),e._uU(25),e.qZA()(),e.TgZ(26,"div",5)(27,"h6",6),e._uU(28),e.ALo(29,"formatNames"),e.qZA(),e.TgZ(30,"p"),e._uU(31),e.qZA()()(),e.TgZ(32,"div",1)(33,"div",7)(34,"div",8)(35,"h6",9),e._uU(36),e.qZA()(),e.TgZ(37,"div",10)(38,"div",11)(39,"table",12)(40,"thead")(41,"tr")(42,"th",13),e._uU(43,"Issued"),e.qZA(),e.TgZ(44,"th",13),e._uU(45,"Rooms"),e.qZA(),e.TgZ(46,"th",13),e._uU(47,"Rent"),e.qZA(),e.TgZ(48,"th",13),e._uU(49,"Duration "),e.TgZ(50,"small"),e._uU(51,"(months)"),e.qZA()(),e.TgZ(52,"th",13),e._uU(53,"Total"),e.qZA(),e.TgZ(54,"th",13),e._uU(55,"Net Total "),e.TgZ(56,"small"),e._uU(57,"[+ 7% tax]"),e.qZA()()()(),e.TgZ(58,"tbody",14),e.YNc(59,T,17,14,"tr",15),e.qZA()()()()()(),e.TgZ(60,"div",1)(61,"div",7)(62,"div",8)(63,"h6",6),e._uU(64,"Personal Information"),e.qZA(),e.TgZ(65,"button",16),e._uU(66,"edit"),e.qZA()(),e.TgZ(67,"div",17)(68,"p",18)(69,"b"),e._uU(70,"Name:"),e.qZA(),e._uU(71),e.qZA(),e.TgZ(72,"p",18)(73,"b"),e._uU(74,"Gender"),e.qZA(),e._uU(75),e.qZA(),e.TgZ(76,"p",18)(77,"b"),e._uU(78,"PhoneNumber: "),e.qZA(),e._uU(79),e.qZA(),e.TgZ(80,"p",18)(81,"b"),e._uU(82,"Age:"),e.qZA(),e._uU(83),e.ALo(84,"userAge"),e.qZA(),e.TgZ(85,"p",18)(86,"b"),e._uU(87,"Nation Id"),e.qZA(),e._uU(88),e.qZA()()()()()),2&f&&(e.xp6(10),e.Oqu(e.lcZ(11,14,null==n.user?null:n.user.userInfos.name)),e.xp6(5),e.Oqu(null==n.user?null:n.user.userInfos.phoneNumber),e.xp6(5),e.Oqu(e.lcZ(21,16,null==n.user?null:n.user.createdAt)),e.xp6(5),e.Oqu(null==n.user?null:n.user.userTypeName),e.xp6(3),e.hij("",e.lcZ(29,18,null==n.user?null:n.user.userTypeName)," Summary"),e.xp6(3),e.hij(" ",null==n.user||null==n.user.userInfos?null:n.user.userInfos.summary," "),e.xp6(4),e.Q6J("matBadge",null==n.invoices?null:n.invoices.length),e.xp6(1),e.hij("Invoices ","landlord"==(null==n.user?null:n.user.userTypeName)?"Created":"Received",""),e.xp6(23),e.Q6J("ngForOf",n.invoices),e.xp6(12),e.hij(" ",null==n.user||null==n.user.userInfos?null:n.user.userInfos.name,""),e.xp6(4),e.hij(" ",null==n.user||null==n.user.userInfos?null:n.user.userInfos.gender,""),e.xp6(4),e.hij(" ",null==n.user||null==n.user.userInfos?null:n.user.userInfos.phoneNumber,""),e.xp6(4),e.hij(" ",e.lcZ(84,20,null==n.user||null==n.user.userInfos?null:n.user.userInfos.age),""),e.xp6(5),e.hij(" ",null==n.user||null==n.user.userInfos?null:n.user.userInfos.nation_Id,""))},dependencies:[d.sg,r.k,d.JJ,d.uU,a.Q,g._,h.z],styles:["img[_ngcontent-%COMP%]{border-radius:50%}"]}),c})()},506:(v,_,s)=>{s.r(_),s.d(_,{BrokerModule:()=>f});var e=s(6895),m=s(8252),i=s(7732),d=s(5266),r=s(4650),a=s(6180);function g(n,o){if(1&n&&(r.TgZ(0,"tr")(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA()()),2&n){const t=o.$implicit;r.xp6(2),r.Oqu(t.address.street),r.xp6(2),r.Oqu(t.type),r.xp6(2),r.Oqu(t.open)}}const h=function(n){return["/broker/",n]};function T(n,o){if(1&n&&(r.TgZ(0,"a",3)(1,"div",4)(2,"h5",5),r._uU(3),r.qZA(),r.TgZ(4,"div",6)(5,"table",7)(6,"thead")(7,"tr")(8,"th"),r._uU(9,"Street"),r.qZA(),r.TgZ(10,"th"),r._uU(11,"Type"),r.qZA(),r.TgZ(12,"th"),r._uU(13,"Open"),r.qZA()()(),r.TgZ(14,"tbody"),r.YNc(15,g,7,3,"tr",8),r.qZA()()()()()),2&n){const t=o.$implicit;r.Q6J("routerLink",r.VKq(3,h,t._id)),r.xp6(3),r.hij("House Owner: ",t.userInfos.name,""),r.xp6(12),r.Q6J("ngForOf",t.estates)}}const c=[{path:"",component:i.P,children:[{path:"",component:(()=>{var n;class o{constructor(u){this.userDataService=u,this.userDataService.getAll().subscribe({next:A=>{this.users=A.filter(U=>null!=U.estates)}})}}return(n=o).\u0275fac=function(u){return new(u||n)(r.Y36(a.M))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-broker-home"]],decls:3,vars:1,consts:[[1,"container-fluid"],[1,"row"],["class","card col-12",3,"routerLink",4,"ngFor","ngForOf"],[1,"card","col-12",3,"routerLink"],[1,"card-body","p-0","m-0"],[1,"card-header","p-0","m-0"],[1,"card-text","p-0","m-0"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(u,A){1&u&&(r.TgZ(0,"div",0)(1,"div",1),r.YNc(2,T,16,5,"a",2),r.qZA()()),2&u&&(r.xp6(2),r.Q6J("ngForOf",A.users))},dependencies:[e.sg,m.rH]}),o})()},{path:"profile",component:d.d},{path:"recruit_tenants",component:(()=>{var n;class o{}return(n=o).\u0275fac=function(u){return new(u||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-recruit-tenants"]],decls:2,vars:0,template:function(u,A){1&u&&(r.TgZ(0,"p"),r._uU(1,"recruit-tenants works!"),r.qZA())}}),o})()}]}];let l=(()=>{var n;class o{}return(n=o).\u0275fac=function(u){return new(u||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[m.Bz.forChild(c),m.Bz]}),o})(),f=(()=>{var n;class o{}return(n=o).\u0275fac=function(u){return new(u||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[e.ez,l]}),o})()}}]);